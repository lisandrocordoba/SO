```c
// Memoria compartida
implementar = sem(N)
experimentar = sem(0)
mutex_exp = sem(1)
mutex_imp = sem(1)
cant_implementados = 0
cant_experimentados = 0
```

```c
while(etapas){
    implementar.wait()
        implementar()

    mutex_imp.wait()
        cant_implementados++
        if(cant_implementados == N) {
            cant_implementados = 0
            experimentar.signal(N)
        }
    mutex.signal()

    experimentar.wait()
        experimentar()
        mutex_exp.wait()
            cant_experimentados++
            if(cant_experimentados == N) {
                cant_experimentados = 0
                implementar.signal(N)
            }
        mutex_exp.signal()
}
```
Empiezan con N permisos para implementar y cada proceso luego de hacerlo se quedará colgado en experimentar.wait().  
Recien cuando el ultimo proceso termine de implementar liberará N permisos para experimentar.  
La logica para pasar de etapa es la misma que para pasar de implementar a experimentar: luego de experimentar se quedaran bloqueados en implementar.wait() pues para poder experimentar ya se tuvieron que gastar los N permisos de implementar de la ronda anterior.  
Recien cuando el ultimo proceso termine de experimentar la ronda actual se liberarán N permisos para implementar y así sucesivamente.