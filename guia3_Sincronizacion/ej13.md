- Cuando puede empezar a ser cargado llama a **estoyListo()**
- Cuando tiene 10 prendas (ni mas ni menos) llama a **lavar()**
- Cuando termina el lavado llama a **puedenDescargarme()** y puede volver a recibir prendas
- Cada prenda llama a **entroAlLavarropas()** una vez que el lavarropas est√© listo.
- No puede ingresar dos prendas a la vez. Pero si pueden salir todas juntas
- No importa el orden de las prendas.
- Cuando el lavarropas puede ser descargado, cada prenda llama a **saquenmeDeAqui()** y termina.


```c
// Memoria compartida
hayLugar = sem(0)
lavarropasVacio = sem(1)
lavarropasLleno = sem(0)
ropaLimpia = sem(0)
mutex = sem(1)
prendasEnLavarropas = 0
```

```c
lavarropas():
    while(1){
        lavarropasVacio.wait()
            estoyListo()
            hayLugar.signal(10)
        lavarropasLleno.wait()
            lavar()
            puedenDescargarme()
            ropaLimpia.signal(10)
    }
```

```c
prenda():
    hayLugar.wait()
        mutex.wait()                // Impide race condition
        entroAlLavarropas()         // Al hacerlo dentro del mutex, las prendas deberan ingresar de a 1
            prendasEnLavarropas++
            if (prendasEnLavarropas == 10){
                lavarropasLleno.signal()
            }
        mutex.signal()

    ropaLimpia.wait(
        saquenmeDeAqui()            // Al hacerlo fuera del mutex, permite que salgan todas las prendas juntas
        mutex.wait()                // Impide race condition
            prendasEnLavarropas--
            if (prendasEnLavarropas == 0){
                lavarropasVacio.signal()
            }
        mutex.signal()
    )

    exit()

```


Si comienzan ejectuandose prendas, se trabajaran al iniciar pues no hay permisos de hayLugar.
El lavarropas comienza a ejecutar y tiene permiso de lavarropasVacio.
* Ejecuta estoyListo()
* Libera 10 permisos de hayLugar
* Se traba esperando el semaforo de lavarropasLleno

Ahora las prendas que estaban trabadas en hayLugar podran avanzar y podran ejecturase nuevas prendas hasta gastar los 10 permisos.
De 1 en 1 van entrando al lavarropas y aumentando el contador. La decima da permiso de lavarropasLleno.


Solo puede ejecutar el lavarropas, pues estan todas las prendas trabadas en ropaLimpia (y si comenzaran nuevos procesos prenda, se trabarian en hayLugar).  
Tiene permiso de lavarropasLLeno.
* Ejecuta lavar()
* Ejecuta puedenDescargarme()
* Libera 10 permisos de ropaLimpia

Si sigue ejecutando, se traba en lavarropasVacio pues al estar todas las prendas trabadas, es imposible que alguna le haya otorgado permiso de lavarropasVacio.  

Solo pueden ejecutar las prendas que estaban en el lavarropas, pues tienen permiso para ropaLimpia (y si hubiera nuevas, estarian trabadas en hayLugar).
Cada una
* Ejecuta saquenme de aqui  (Pueden hacerlo todas a la vez)
* De 1 en 1 decrementan el contador y la decima libera permiso de lavarropasVacio
* Terminan


Por lo explicado, no puede pasar que una prenda se "adelante" entrando al lavarropas cuando aun queda ropa.
Tampoco pueden estar el lavarropas y todas las prendas bloqueadas, es decir no hay deadlock.
Todas las prendas tienen posibilidad de ser despertadas del hayLugar.wait() para el proximo lavado. Asique tampoco hay inanicion