# a)

```c
int main(){
    int msg = 0;
    
    pid_t pid_hijo = fork();
    if(pid_hijo == -1) exit(EXIT_FAILURE);
    
    else if(pid_hijo == 0){ //hijo
        while(1){
            msg = breceive(getppid());      // Es bloqueante, no sigue hasta recibir
            msg++;
            printf("Hijo envia a Padre el valor %d \n", msg);
            bsend(getppid(), msg);            // Es bloqueante, no sigue hasta enviar
        }
    }
    else{ //padre
        while(1){
            printf("Padre envia a Hijo el valor %d \n", msg);
            bsend(pid_hijo, msg);       // Es bloqueante, no sigue hasta enviar 
            msg = breceive(pid_hijo);  // Es bloqueante, no sigue hasta recibir
            msg++;
        }
    }

    exit(EXIT_SUCCESS);
}
```

# b)
```c
int pid_hijo2;  // global pq necesito que el hijo_1 lo sepa

void hijo1(){
    while(1){
        msg = breceive(getppid());      // Es bloqueante, no sigue hasta recibir
        msg++;
        if (msg >= 50) exit(EXIT_SUCCES)
        printf("Hijo_1 envia a Hijo_2 el valor %d \n", msg);
        bsend(pid_hijo2, msg);            // Es bloqueante, no sigue hasta enviar
    }
}

void hijo2(){
    while(1){
        msg = breceive(pid_hijo1);      // Notar que sabe el pid del hijo1, pues el hijo 2 se creo dps que el 1
        msg++;
        if (msg >= 50) exit(EXIT_SUCCES)
        printf("Hijo_2 envia a Padre el valor %d \n", msg);
        bsend(getppid(), msg);            // Es bloqueante, no sigue hasta enviar
    }
}

int main(){
    int msg = 0;

    pid_t pid_hijo1 = fork();       
    if(pid_hijo1 == -1) exit(EXIT_FAILURE);
    else if(pid_hijo1 == 0) hijo1();

    pid_t pid_hijo2 = fork();
    if(pid_hijo2 == -1) exit(EXIT_FAILURE);
    else if(pid_hijo2 == 0) hijo2();

    // Padre
    while(1){
        printf("Padre envia a Hijo_1 el valor %d \n", msg);
        bsend(pid_hijo1, msg);       // Es bloqueante, no sigue hasta enviar
        msg = breceive(pid_hijo2);  // Es bloqueante, no sigue hasta recibir
        msg++;
        if (msg >= 50) exit(EXIT_SUCCES)
    }
}

```
