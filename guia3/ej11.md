```c
// Memoria compartida
buffer[N]   // buffer compartido con capacidad para N mensajes
hayLugar = sem(N)
hayMensaje = sem(0)
mutex = sem(1)
```

```c
write(mensaje) {
    hayLugar.wait()
    mutex.wait()
        buffer.push(mensaje)
    mutex.signal()
    hayMensaje.signal()
}
```

```c
read() {
    hayMensaje.wait()
    mutex.wait()
        buffer.pop()
    mutex.signal()
    hayLugar.signal()
}
```